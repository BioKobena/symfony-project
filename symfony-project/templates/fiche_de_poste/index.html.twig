{% extends 'base.html.twig' %}
{% block title %}Fiche de poste
{% endblock %}

{% block body %}


	<div class="section-grey bg-light" id="blog-section" style="display:flex; flex-direction:column; justify-content:center; align-items:center; width:100vw ; padding:3rem; margin-top:5rem">

		<div class="register-card shadow p-4 rounded w-75 bg-white">
			<h2 class="text-center mb-4 text-primary h4">Créer une fiche de poste</h2>
			<form action="{{ path('create_fiche_de_poste') }}" method="POST">
				<div class="form-row">
					<div class="col-md-6 form-group">
						<label for="titre">Titre du poste</label>
						<input type="text" id="titre" name="titre" class="form-control" placeholder="Ex : Développeur PHP" required>
					</div>
					<div class="col-md-6 form-group">
						<label for="localisation">Localisation</label>
						<input type="text" id="localisation" name="localisation" class="form-control" placeholder="Ex : Paris" required>
					</div>
				</div>
				<div class="form-row">
					<div class="col-md-6 form-group">
						<label for="technologies">Technologies</label>
						<input type="text" id="technologies" name="technologies" class="form-control" placeholder="Ex : PHP, Symfony, MySQL" required>
					</div>
					<div class="col-md-6 form-group">
						<label for="niveauExperience">Niveau d'Expérience</label>
						<input type="number" id="niveauExperience" name="niveauExperience" class="form-control" min="0" placeholder="Ex : 3" required>
					</div>
				</div>
				<div class="form-group">
					<label for="salairePropose">Salaire Proposé</label>
					<input type="number" id="salairePropose" name="salairePropose" class="form-control" min="0" placeholder="Ex : 3500" required>
				</div>
				<div class="form-group">
					<label for="description">Description du poste</label>
					<textarea id="description" name="description" class="form-control" rows="3" placeholder="Ex : Développer des fonctionnalités web complexes..."></textarea>
				</div>
				<button type="submit" class="btn btn-primary btn-block">Créer</button>
			</form>

		</div>

		<div class="container">
			<h3 class="text-center mt-4">Toutes vos fiches de poste</h3>
			{% if fichesDePoste is empty %}
				<p class="text-center">Aucune fiche de poste créée pour cette entreprise.</p>
			{% else %}
				<div class="row mt-3">
					{% for fiche in fichesDePoste %}
						<div class="col-md-6 col-lg-4 mb-4">
							<div class="card shadow-sm">
								<div class="card-body">
									<h5 class="card-title text-primary">{{ fiche.titre }}</h5>
									{# <h5 class="card-title text-primary">{{ fiche.entreprise.id }}</h5> #}
									<h6 class="card-subtitle mb-2 text-muted">{{ fiche.localisation }}</h6>
									<p class="card-text">
										<strong>Technologies :</strong>
										{{ fiche.technologies }}<br>
										<strong>Expérience :</strong>
										{{ fiche.niveauExperience }}
										ans<br>
										<strong>Salaire :</strong>
										{{ fiche.salairePropose }}
										€<br>
										{{ fiche.description }}
										<br>
										<strong>Vues :</strong>
										{{ fiche.views }}
									</p>
									<a href="#" class="btn btn-sm btn-success">Supprimer</a>
								</div>
							</div>
						</div>
					{% endfor %}
				</div>
			{% endif %}
		</div>
	</div>


{% endblock %}
