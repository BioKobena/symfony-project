{% extends 'base.html.twig' %}

{% block title %}Mettre à jour le profil{% endblock %}

{% block body %}
<div class="update-profile-card shadow p-4 rounded w-75 w-md-50 w-lg-40 bg-white mx-auto">
    <h2 class="text-center mb-4 text-primary h4">Mettre à jour votre profil</h2>
    <form action="{{ path('app_update_profile', {id: developer.id}) }}" method="POST" enctype="multipart/form-data">
        <div class="form-row">
            <div class="col-md-6 form-group">
                <label for="firstName">Prénom</label>
                <input type="text" id="firstName" name="firstName" class="form-control" value="{{ developer.prenom }}" required>
            </div>
            <div class="col-md-6 form-group">
                <label for="lastName">Nom</label>
                <input type="text" id="lastName" name="lastName" class="form-control" value="{{ developer.nom }}" required>
            </div>
        </div>

        <div class="form-row">
            <div class="col-md-6 form-group">
                <label for="email">Adresse e-mail</label>
                <input type="email" id="email" name="email" class="form-control" value="{{ developer.user.email }}" required readonly>
            </div>
            <div class="col-md-6 form-group">
                <label for="location">Localisation</label>
                <input type="text" id="location" name="location" class="form-control" value="{{ developer.localisation }}">
            </div>
        </div>

        <div class="form-row">
            <div class="col-md-6 form-group">
                <label for="experience">Niveau d'expérience :</label>
                <input type="number" id="experience" name="experience" class="form-control" value="{{ developer.experience }}" min="1" max="5">
            </div>
            <div class="col-md-6 form-group">
                <label for="salary">Salaire minimum souhaité (en €)</label>
                <input type="number" id="salary" name="salary" class="form-control" value="{{ developer.salaireMin }}">
            </div>
        </div>

        {# <div class="form-group">
            <label for="languages">Langages de programmation :</label>
            <input type="text" id="languages" name="languages" class="form-control" value="{{ developer.languages }}">
        </div> #}

        <div class="form-group">
            <label for="bio">Courte biographie :</label>
            <textarea id="bio" name="bio" class="form-control" rows="3">{{ developer.bio }}</textarea>
        </div>

        <div class="form-group">
            <label for="photo">Photo de profil :</label>
            <input type="file" id="photo" name="photo" class="form-control-file">
            {% if developer.avatar %}
                <div class="mt-3">
                    <img src="{{ asset('uploads/photos/' ~ developer.avatar) }}" alt="Photo de {{ developer.nom }}" class="img-thumbnail" style="max-width: 150px;">
                </div>
            {% endif %}
            <small class="form-text text-muted">Laisser vide pour conserver l'image actuelle.</small>
        </div>

        <button type="submit" class="btn btn-primary btn-block">Mettre à jour</button>
        <p class="text-center mt-3">
            <a href="{{ path('app_developer') }}">Revenir au tableau de bord</a>
        </p>
    </form>
</div>
{% endblock %}
